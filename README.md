# Examining Climate Change Sentiment over Time through Twitter Data

## Paper
Found in `climate-change-sentiment.pdf`. LaTeX source in `latex/`.

## Direction
The goal of this project is to analyze major climate change events and discuss their effect on the sentiments of active twitter users. 
This is to be done by using natural language processing (NLP) techniques in machine learning.
A support vector classifier is used to determine a user's sentiment on climate change.
The classifier uses the entropy of the probability distribution generated to quantify changes in sentiment.
Based on this classifier, changes in a user's sentiment as well as the 
sentiment of the general population can be analyzed over a period of time with a continuous measure of ambiguity.

## Files and Development
* `svm.py` contains the machine learning techniques employed in this project. See the FLAGS section for more details on how to use.
* `find_entropy_distribution.py` is used to generate the graphs of entropy distributions by event. The data should be created by `copy_data_to_text.py`.
* `make_entropy_data.py`, `fix_entropy_days.py`, `fix_entropy_sentiment_days.py`, `make_entropy_graph.py`, and `make_entropy_sentiment_graph.py`, are used to generate the entropy timeseries graph.

* `make_lifetime_data.py` and `make_lifetime_graph.py` are files to generate graphs showing tweet "lifetime" as shown in the analysis folder.
* `make_retweet_graph.py` uses the data from `make_lifetime_data.py` to generate a similar graph showing the retweet distributions.
* `make_total_tweets_data.py`, `fix_total_tweets_days.py`, and `make_total_tweets_graph.py` are files to generate graphs showing the total number of tweets per day.
* `make_timeseries_data.py` and `make_tweet_distribution_graph.py` are files that show the distribution of sentiment population over the time period


* `util.py` contains various utility functions, some of which are deprecated.
* `import_vince_data.py` is a script that uses several util.py functions to import data from text file format into database format.
* `label_data.py` is a script that allows for easy insertion of labelled data into a database. 
* `word_counter.py` and `analyze_words.py` are scripts that allow for parsing of tweets per day - the purpose being to analyze distributions of words on a specific day.
* `copy_data_to_text.py` is a script that copies all tweets with sentiments to a text file.
* `make_pre_post_data.py` is a script to generate data for analyzing switcher data in a discrete fashion.
* `create_db_tables.py` generates a database with table names corresponding to files in `get_time_mask()` in util.
* `find_multiple_tweets.sql` is an sql file containing a variety of multipurpose queries in no particular order.
* `merge_sentiment_data.py` is a script that copies all tweets with sentiment into a table called `full_sentiments`.
* `count_ambiguity.py`, `count_number_of_tweets.py`, `count_training_distribution.py`, and `count_users.py` are miscallaneous functions used to get a general idea of the dataset.
* `find_event_counts_discrete.py` uses data from `make_pre_post_data.py` to analyze switcher data in a discrete fashion.
* `find_user_tweets.py` takes data from a user and finds the tweets by that user throughout the time period.

## Old Files
* `2stepsvm.py` was an attempt at separating the dimensions of subjectivity and polarity. No significant difference was noted between the 2stepsvm and the regular single layer linear SVC.
* `hmm_event.py`, `hmm_user.py`, `make_hmm_graph.py`, and `analyze_hmm.py` were attempts at using a hidden markov model to model temporally dependent tweets. Further work must be done to flush out this structure.
* `nn.py` and `nn_models.py` were attempts at using a convolutional neural network to do sentiment analysis. Does not work well.

* `make_autocorr_graph.py` is a file that uses data generated by the output of `fix_timeseries_data.py` to create a graph showing the autocorrelations by day.
* `make_timeseries_data.py` and `make_timeseries_graph.py` are files to generate timeseries graphs as shown in the analysis folder.
* `make_switcher_usernames.py`, `make_switcher_data.py` and `make_switcher_graph.py` are files to generate graphs showing statistics of sentiment-switching users as shown in the analysis folder.
* `make_tsr_switchers_data.py`, `make_tsr_switchers_graph.py`, `make_tsr_word_counter.py`, and `make_tsr_word_graph.py` were first attempts at analyzing events using a discrete method.

## Credits and Acknowledgements
Thanks to Chris Bauch, Madhur Anand, Vince Talbot, Demetri Pananos, Justin Schonfeld, and Zach Dockstader for their guidance and/or contribution to this project.
